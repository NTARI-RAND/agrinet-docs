"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[8523],{3674:(e,n,o)=>{o.r(n),o.d(n,{default:()=>s});var t=o(6540),r=o(3667),a=o(8478),l=o(4848);function s(){const[e,n]=(0,t.useState)(null),[s,i]=(0,t.useState)(null),d=(0,t.useRef)(null);return(0,t.useEffect)(()=>{let e=!0;return Promise.resolve().then(o.t.bind(o,3481,23)).then(n=>{e&&i(n.default??n)}).catch(e=>{console.error("Failed to load Leaflet:",e)}),()=>{e=!1}},[]),(0,t.useEffect)(()=>{fetch("/data/agrinet_global_map_layer.geojson").then(e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}).then(e=>n(e)).catch(e=>{console.error("Failed to load GeoJSON:",e)})},[]),(0,t.useEffect)(()=>{if(s&&e&&d.current)try{const n=s.geoJSON(e).getBounds();n&&"function"==typeof n.isValid&&!n.isValid()||d.current.fitBounds(n,{padding:[20,20]})}catch(n){console.warn("Could not fit bounds:",n)}},[s,e]),(0,l.jsx)(r.A,{title:"Agrinet Global Map",children:(0,l.jsxs)("div",{style:{padding:16},children:[(0,l.jsx)("h1",{children:"Agrinet Global Map"}),(0,l.jsxs)("p",{children:["This page loads the GeoJSON from"," ",(0,l.jsx)("code",{children:"/data/agrinet_global_map_layer.geojson"}),". You can also download the file below."]}),(0,l.jsx)("div",{className:"globalMap__mapWrapper",style:{height:600,borderRadius:6,overflow:"hidden"},children:(0,l.jsx)(a.A,{fallback:(0,l.jsx)("div",{style:{padding:16},children:"Loading map\u2026"}),children:()=>{const{MapContainer:n,TileLayer:t,GeoJSON:r}=o(614);return(0,l.jsxs)(n,{center:[0,0],zoom:2,style:{height:"100%",width:"100%"},whenCreated:e=>{d.current=e},children:[(0,l.jsx)(t,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"\xa9 OpenStreetMap contributors"}),e&&(0,l.jsx)(r,{data:e,onEachFeature:(e,n)=>{const o=e.properties||{},t=`\n                          <div>\n                            <strong>${o.node_name||"Unknown node"}</strong><br/>\n                            <strong>Type:</strong> ${o.node_type||"\u2014"}<br/>\n                            <strong>Email:</strong> ${o.contact_email||"\u2014"}<br/>\n                            <strong>Languages:</strong> ${(o.languages||[]).filter(Boolean).join(", ")}<br/>\n                            <a href="${o.fork_repo||"#"}" target="_blank" rel="noreferrer">Fork repo</a>\n                          </div>\n                        `;n.bindPopup(t)},style:()=>({color:"#2b87ff",weight:2,fillOpacity:.6})})]})}})}),(0,l.jsx)("p",{style:{marginTop:12},children:(0,l.jsx)("a",{href:"/data/agrinet_global_map_layer.geojson",download:!0,children:"Download agrinet_global_map_layer.geojson"})})]})})}}}]);