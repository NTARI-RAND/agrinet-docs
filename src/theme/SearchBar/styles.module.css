:global(:root) {
  --docsearch-primary-color: var(--ifm-color-primary);
  --docsearch-highlight-color: var(--ifm-color-primary);
  --docsearch-text-color: var(--ifm-font-color-base);
  --docsearch-muted-color: var(--ifm-color-content-secondary);
  --docsearch-searchbox-background: color-mix(in srgb, var(--ifm-background-surface-color) 94%, transparent);
  --docsearch-searchbox-focus-background: color-mix(in srgb, var(--ifm-background-surface-color) 98%, var(--ifm-color-primary) 8%);
  --docsearch-searchbox-shadow: none;
  --docsearch-hit-background: var(--ifm-background-surface-color);
  --docsearch-hit-shadow: 0 24px 60px rgba(15, 23, 42, 0.18);
  --docsearch-hit-color: var(--ifm-color-content);
  --docsearch-hit-active-color: var(--ifm-color-primary);
  --docsearch-modal-background: color-mix(in srgb, var(--ifm-background-surface-color) 96%, rgba(88, 101, 242, 0.06));
  --docsearch-footer-background: var(--ifm-background-surface-color);
  --docsearch-footer-shadow: inset 0 1px 0 0 color-mix(in srgb, var(--ifm-color-emphasis-200) 40%, transparent);
  --docsearch-shadow: 0 32px 80px rgba(2, 6, 23, 0.16);
  --docsearch-key-gradient: linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(230, 233, 252, 0.7));
  --docsearch-key-shadow: inset 0 -1px 0 rgba(15, 23, 42, 0.08);
  --docsearch-soft-primary-color: color-mix(in srgb, var(--ifm-color-primary) 12%, transparent);
}

:global([data-theme='dark']) {
  --docsearch-modal-background: color-mix(in srgb, var(--ifm-background-surface-color) 90%, rgba(34, 44, 105, 0.35));
  --docsearch-hit-background: color-mix(in srgb, var(--ifm-background-surface-color) 86%, rgba(88, 101, 242, 0.12));
  --docsearch-hit-shadow: 0 28px 60px rgba(0, 0, 0, 0.45);
  --docsearch-icon-color: color-mix(in srgb, var(--ifm-color-content-secondary) 85%, #ffffff 15%);
  --docsearch-muted-color: color-mix(in srgb, var(--ifm-color-content-secondary) 75%, #ffffff 25%);
  --docsearch-searchbox-background: color-mix(in srgb, var(--ifm-background-surface-color) 86%, rgba(88, 101, 242, 0.24));
  --docsearch-searchbox-focus-background: color-mix(in srgb, var(--ifm-background-surface-color) 92%, rgba(88, 101, 242, 0.4));
  --docsearch-soft-primary-color: color-mix(in srgb, var(--ifm-color-primary) 24%, rgba(255, 255, 255, 0.08));
}

.searchWrapper {
  position: relative;
  display: flex;
  align-items: center;
  width: var(--docsearch-width, 320px);
  max-width: 100%;
}

.algoliaButtonWrapper {
  position: relative;
  display: inline-flex;
  align-items: center;
  width: 100%;
}

.algoliaButton {
  width: 100%;
  border-radius: 999px;
  border: none;
  padding: 0;
  background: transparent;
}

.algoliaButtonWrapper :global(.DocSearch-Button) {
  width: 100%;
  border-radius: 999px;
  padding: 0.55rem 0.9rem;
  border: 1px solid color-mix(in srgb, var(--ifm-color-primary) 24%, transparent);
  background: color-mix(in srgb, var(--ifm-background-surface-color) 94%, var(--ifm-color-primary-lightest) 6%);
  color: var(--ifm-navbar-link-color);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.45), 0 1px 4px rgba(15, 23, 42, 0.08);
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
}

.algoliaButtonWrapper :global(.DocSearch-Button:hover),
.algoliaButtonWrapper :global(.DocSearch-Button:focus-visible) {
  background: color-mix(in srgb, var(--ifm-background-surface-color) 84%, var(--ifm-color-primary-lightest) 16%);
  border-color: var(--ifm-color-primary);
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--ifm-color-primary) 16%, transparent);
}

.algoliaButtonWrapper :global(.DocSearch-Button-Container) {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  width: 100%;
}

.algoliaButtonWrapper :global(.DocSearch-Search-Icon) {
  width: 1.1rem;
  height: 1.1rem;
  color: var(--ifm-color-primary);
}

.algoliaButtonWrapper :global(.DocSearch-Button-Placeholder) {
  font-size: 0.95rem;
  font-weight: 500;
  color: var(--ifm-color-content-secondary);
}

.algoliaButtonWrapper :global(.DocSearch-Button-Keys) {
  margin-left: auto;
  display: flex;
  gap: 0.25rem;
}

.algoliaButtonWrapper :global(.DocSearch-Button-Key) {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 1.6rem;
  padding: 0 0.35rem;
  border-radius: 0.4rem;
  border: 1px solid color-mix(in srgb, var(--ifm-color-primary) 16%, transparent);
  background: var(--docsearch-key-gradient);
  box-shadow: var(--docsearch-key-shadow);
  color: var(--ifm-color-content-secondary);
  font-size: 0.7rem;
  font-weight: 600;
}

.algoliaButtonWithBadge {
  gap: 0.6rem;
}

.askAiBadge {
  padding: 0.2rem 0.6rem;
  border-radius: 999px;
  background: linear-gradient(135deg, #5b7cfa, #8247ff);
  color: #fff;
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  box-shadow: 0 6px 18px rgba(91, 124, 250, 0.36);
}

:global([data-theme='dark']) .askAiBadge {
  background: linear-gradient(135deg, #748bff, #b183ff);
  box-shadow: 0 6px 18px rgba(116, 139, 255, 0.42);
}

.localSearch {
  width: 100%;
}

.localForm {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  width: 100%;
  padding: 0.6rem 0.9rem;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--ifm-color-primary) 24%, transparent);
  background: color-mix(in srgb, var(--ifm-background-surface-color) 94%, var(--ifm-color-primary-lightest) 6%);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.5), 0 1px 4px rgba(15, 23, 42, 0.08);
}

.localIcon {
  width: 1.1rem;
  height: 1.1rem;
  color: var(--ifm-color-primary);
  flex-shrink: 0;
}

.localInput {
  flex: 1;
  border: none;
  background: transparent;
  color: inherit;
  font-size: 0.95rem;
  font-weight: 500;
}

.localInput:focus {
  outline: none;
}

.shortcut {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 1.6rem;
  padding: 0 0.35rem;
  border-radius: 0.4rem;
  border: 1px solid color-mix(in srgb, var(--ifm-color-primary) 16%, transparent);
  background: var(--docsearch-key-gradient);
  box-shadow: var(--docsearch-key-shadow);
  color: var(--ifm-color-content-secondary);
  font-size: 0.7rem;
  font-weight: 600;
}

.results {
  position: absolute;
  top: calc(100% + 0.4rem);
  left: 0;
  right: 0;
  margin: 0;
  padding: 0.6rem 0;
  list-style: none;
  border-radius: 1rem;
  background: var(--ifm-card-background-color);
  box-shadow: 0 24px 48px rgba(15, 23, 42, 0.18);
  border: 1px solid color-mix(in srgb, var(--ifm-color-primary) 16%, transparent);
  max-height: min(70vh, 460px);
  overflow-y: auto;
  z-index: 100;
}

.resultLink {
  display: block;
  padding: 0.55rem 1rem;
  text-decoration: none;
  color: inherit;
  transition: background-color 0.2s ease;
}

.resultLink:hover,
.resultLink:focus,
.resultLinkActive {
  background: color-mix(in srgb, var(--ifm-color-primary-lightest) 22%, transparent);
}

.resultTitle {
  display: block;
  font-weight: 600;
}

.resultDescription {
  display: block;
  margin-top: 0.25rem;
  font-size: 0.82rem;
  color: var(--ifm-color-content-secondary);
}

.empty {
  padding: 0.55rem 1rem;
  color: var(--ifm-color-content-secondary);
  font-style: italic;
}

@media (max-width: 996px) {
  .searchWrapper {
    width: 100%;
  }

  .algoliaButtonWrapper {
    width: 100%;
  }

  .askAiBadge {
    display: none;
  }
}
